<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--                                             -->
<!-- Author: ROOT team (rootdev@pcroot.cern.ch)  -->
<!--                                             -->
<!--   Date: Thu Jun 18 00:10:42 2009            -->
<!--                                             -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>TUCNGeoManager - source file</title>
<meta name="rating" content="General" />
<meta name="objecttype" content="Manual" />
<meta name="keywords" content="software development, oo, object oriented, unix, x11, windows, c++, html, rene brun, fons rademakers, cern" />
<meta name="description" content="ROOT - An Object Oriented Framework For Large Scale Data Analysis." />
<link rel="stylesheet" type="text/css" href="../ROOT.css" id="ROOTstyle" />
<script type="text/javascript" src="../ROOT.js"></script>
</head>
<body  onload="javascript:SetValuesFromCookie();">
<pre class="code">
<span class="comment">// <a href="../TUCNGeoManager.html">TUCNGeoManager</a></span>
<span class="comment">// Author: Matthew Raso-Barnett  22/05/2009</span>
<span class="cpp">#include &lt;iostream&gt;</span>
<span class="cpp">#include &lt;fstream&gt;</span>

<span class="cpp">#include "TGeoManager.h"</span>
<span class="cpp">#include "TGeoVolume.h"</span>
<span class="cpp">#include "TVirtualGeoTrack.h"</span>
<span class="cpp">#include "TParticle.h"</span>

<span class="cpp">#include "<a href="../TUCNGeoBuilder.h">TUCNGeoBuilder.h</a>"</span>
<span class="cpp">#include "<a href="../TUCNGeoNavigator.h">TUCNGeoNavigator.h</a>"</span>
<span class="cpp">#include "<a href="../TUCNGravField.h">TUCNGravField.h</a>"</span>
<span class="cpp">#include "<a href="../TUCNParticle.h">TUCNParticle.h</a>"</span>
<span class="cpp">#include "<a href="../TUCNParticleCloud.h">TUCNParticleCloud.h</a>"</span>
<span class="cpp">#include "<a href="../Units.h">Units.h</a>"</span>

<span class="cpp">#include "<a href="../TUCNGeoManager.h">TUCNGeoManager.h</a>"</span>

<span class="keyword">using</span> std::<a href="../ListOfTypes.html#ostream">cout</a>;
<span class="keyword">using</span> std::endl;

ClassImp(<a href="../TUCNGeoManager.html">TUCNGeoManager</a>)

<span class="comment">//_____________________________________________________________________________</span>
<a name="BJJ96C"></a><a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:TUCNGeoManager" title="TUCNGeoManager TUCNGeoManager::TUCNGeoManager() or overloads">TUCNGeoManager</a>() 
					:<a href="../#TGeoManager:TGeoManager" title="TGeoManager TGeoManager::TGeoManager(const TGeoManager&amp; ) or overloads">TGeoManager</a>()
{
<span class="comment">// Default Constructor</span>
	<a href="../#TObject:Info" title="void TObject::Info(const char* method,const char* msgfmt)">Info</a>(<span class="string">"TUCNGeoManager"</span>, <span class="string">"Default Constructor"</span>);
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fUCNNavigator" title="TUCNGeoNavigator* TUCNGeoManager::fUCNNavigator">fUCNNavigator</a> = NULL;		
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a> = NULL;
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::fParticleCloud">fParticleCloud</a> = NULL;
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fNavigatorIndex" title="Int_t TUCNGeoManager::fNavigatorIndex">fNavigatorIndex</a> = 0; 				
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="xzGJiD"></a><a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:TUCNGeoManager" title="TUCNGeoManager TUCNGeoManager::TUCNGeoManager() or overloads">TUCNGeoManager</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> <span class="keyword">char</span> *title) 
					:<a href="../#TGeoManager:TGeoManager" title="TGeoManager TGeoManager::TGeoManager(const TGeoManager&amp; ) or overloads">TGeoManager</a>(name, title)
{
<span class="comment">// Constructor</span>
   <a href="../#TObject:Info" title="void TObject::Info(const char* method,const char* msgfmt)">Info</a>(<span class="string">"TUCNGeoManager"</span>,<span class="string">"UCNGeometry %s, %s created"</span>, <span class="keyword">this</span>-&gt;<a href="../#TNamed:GetName" title="const char* TNamed::GetName()">GetName</a>(), <span class="keyword">this</span>-&gt;<a href="../#TNamed:GetTitle" title="const char* TNamed::GetTitle()">GetTitle</a>());
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a> = NULL;
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::fParticleCloud">fParticleCloud</a> = NULL;
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fNavigatorIndex" title="Int_t TUCNGeoManager::fNavigatorIndex">fNavigatorIndex</a> = 0;

	<span class="comment">// Create GeoNavigator -- Navigator is created here so that we couple it to the UCNManager straight away. </span>
	<a href="../TUCNGeoNavigator.html">TUCNGeoNavigator</a>* navigator = <span class="keyword">new</span> <a href="../TUCNGeoNavigator.html">TUCNGeoNavigator</a>(<span class="keyword">this</span>);
	<span class="keyword">this</span>-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:AddUCNNavigator" title="Int_t TUCNGeoManager::AddUCNNavigator(TUCNGeoNavigator* navigator)">AddUCNNavigator</a>(navigator);		
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="S5bmdE"></a><a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:_TUCNGeoManager" title="void TUCNGeoManager::~TUCNGeoManager()">~TUCNGeoManager</a>()
{
<span class="comment">// Destructor</span>
	<a href="../#TObject:Info" title="void TObject::Info(const char* method,const char* msgfmt)">Info</a>(<span class="string">"TUCNGeoManager"</span>, <span class="string">"Destructor"</span>);	
	<span class="keyword">if</span> (<a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a>) <span class="keyword">delete</span> <a href="../TUCNGravField.html">TUCNGravField</a>::<a href="../TUCNGravField.html#TUCNGravField:Instance" title="TUCNGravField* TUCNGravField::Instance(TUCNGeoManager* geom)">Instance</a>(<span class="keyword">this</span>);
	<span class="keyword">if</span> (<a href="../TUCNGeoManager.html#TUCNGeoManager:fParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::fParticleCloud">fParticleCloud</a>) <span class="keyword">delete</span> <a href="../TUCNGeoManager.html#TUCNGeoManager:fParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::fParticleCloud">fParticleCloud</a>;
}


<span class="comment">//_____________________________________________________________________________</span>
<a name="Ew6wlB"></a>TGeoVolume* <a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeBox" title="TGeoVolume* TUCNGeoManager::MakeBox(const char* name,const TGeoMedium* medium,Double_t dx,Double_t dy,Double_t dz)">MakeBox</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium, <a href="../ListOfTypes.html#Double_t">Double_t</a> dx, <a href="../ListOfTypes.html#Double_t">Double_t</a> dy, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz)
{
<span class="comment">// Make in one step a volume pointing to a box shape with given medium.</span>
<span class="comment">// Here we cast the pointer returned from Instance of type TGeoBuilder, into type <a href="../TUCNGeoBuilder.html">TUCNGeoBuilder</a> to call the correct <a href="../TUCNGeoManager.html#TUCNGeoManager:MakeBox" title="TGeoVolume* TUCNGeoManager::MakeBox(const char* name,const TGeoMedium* medium,Double_t dx,Double_t dy,Double_t dz)">MakeBox</a> method</span>
   <span class="keyword">return</span> <a href="../TUCNGeoBuilder.html">TUCNGeoBuilder</a>::<a href="../TUCNGeoBuilder.html#TUCNGeoBuilder:UCNInstance" title="TUCNGeoBuilder* TUCNGeoBuilder::UCNInstance(TUCNGeoManager* geom)">UCNInstance</a>(<span class="keyword">this</span>)-><a href="../TUCNGeoBuilder.html#TUCNGeoBuilder:MakeUCNBox" title="TGeoVolume* TUCNGeoBuilder::MakeUCNBox(const char* name,const TGeoMedium* medium,Double_t dx,Double_t dy,Double_t dz)">MakeUCNBox</a>(name, medium, dx, dy, dz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="CArfBE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTube" title="TGeoVolume* TUCNGeoManager::MakeTube(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t dz)">MakeTube</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz)
{
<span class="comment">// Make in one step a volume pointing to a tube shape with given medium.</span>
   <span class="keyword">return</span> <a href="../TUCNGeoBuilder.html">TUCNGeoBuilder</a>::<a href="../TUCNGeoBuilder.html#TUCNGeoBuilder:UCNInstance" title="TUCNGeoBuilder* TUCNGeoBuilder::UCNInstance(TUCNGeoManager* geom)">UCNInstance</a>(<span class="keyword">this</span>)-><a href="../TUCNGeoBuilder.html#TUCNGeoBuilder:MakeUCNTube" title="TGeoVolume* TUCNGeoBuilder::MakeUCNTube(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t dz)">MakeUCNTube</a>(name, medium, rmin, rmax, dz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="Nx5uwB"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeArb8" title="TGeoVolume* TUCNGeoManager::MakeArb8(const char* name,const TGeoMedium* medium,Double_t dz,Double_t* vertices=0)">MakeArb8</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> dz, <a href="../ListOfTypes.html#Double_t">Double_t</a> *vertices)
{
<span class="comment">// Make an TGeoArb8 volume.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeArb8"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
   <span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeArb8" title="TGeoVolume* TUCNGeoManager::MakeArb8(const char* name,const TGeoMedium* medium,Double_t dz,Double_t* vertices=0)">MakeArb8</a>(name, medium, dz, vertices);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="kdl8DE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakePara" title="TGeoVolume* TUCNGeoManager::MakePara(const char* name,const TGeoMedium* medium,Double_t dx,Double_t dy,Double_t dz,Double_t alpha,Double_t theta,Double_t phi)">MakePara</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                    <a href="../ListOfTypes.html#Double_t">Double_t</a> dx, <a href="../ListOfTypes.html#Double_t">Double_t</a> dy, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz,
                                    <a href="../ListOfTypes.html#Double_t">Double_t</a> alpha, <a href="../ListOfTypes.html#Double_t">Double_t</a> theta, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi)
{
<span class="comment">// Make in one step a volume pointing to a paralelipiped shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakePara"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakePara" title="TGeoVolume* TUCNGeoManager::MakePara(const char* name,const TGeoMedium* medium,Double_t dx,Double_t dy,Double_t dz,Double_t alpha,Double_t theta,Double_t phi)">MakePara</a>(name, medium, dx, dy, dz, alpha, theta, phi);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="mk2Y4C"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeSphere" title="TGeoVolume* TUCNGeoManager::MakeSphere(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t themin=0,Double_t themax=180,Double_t phimin=0,Double_t phimax=360)">MakeSphere</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                    <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax, <a href="../ListOfTypes.html#Double_t">Double_t</a> themin, <a href="../ListOfTypes.html#Double_t">Double_t</a> themax,
                                    <a href="../ListOfTypes.html#Double_t">Double_t</a> phimin, <a href="../ListOfTypes.html#Double_t">Double_t</a> phimax)
{
<span class="comment">// Make in one step a volume pointing to a sphere shape with given medium</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeSphere"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeSphere" title="TGeoVolume* TUCNGeoManager::MakeSphere(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t themin=0,Double_t themax=180,Double_t phimin=0,Double_t phimax=360)">MakeSphere</a>(name, medium, rmin, rmax, themin, themax, phimin, phimax);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="zfptsE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTorus" title="TGeoVolume* TUCNGeoManager::MakeTorus(const char* name,const TGeoMedium* medium,Double_t r,Double_t rmin,Double_t rmax,Double_t phi1=0,Double_t dphi=360)">MakeTorus</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium, <a href="../ListOfTypes.html#Double_t">Double_t</a> r,
                                   <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi1, <a href="../ListOfTypes.html#Double_t">Double_t</a> dphi)
{
<span class="comment">// Make in one step a volume pointing to a torus shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeTorus"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTorus" title="TGeoVolume* TUCNGeoManager::MakeTorus(const char* name,const TGeoMedium* medium,Double_t r,Double_t rmin,Double_t rmax,Double_t phi1=0,Double_t dphi=360)">MakeTorus</a>(name, medium, r, rmin, rmax, phi1, dphi);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="K20hBE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTubs" title="TGeoVolume* TUCNGeoManager::MakeTubs(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t dz,Double_t phi1,Double_t phi2)">MakeTubs</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> phi1, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi2)
{
<span class="comment">// Make in one step a volume pointing to a tube segment shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeTubs"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTubs" title="TGeoVolume* TUCNGeoManager::MakeTubs(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t dz,Double_t phi1,Double_t phi2)">MakeTubs</a>(name, medium, rmin, rmax, dz, phi1, phi2);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="inMduB"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeEltu" title="TGeoVolume* TUCNGeoManager::MakeEltu(const char* name,const TGeoMedium* medium,Double_t a,Double_t b,Double_t dz)">MakeEltu</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> a, <a href="../ListOfTypes.html#Double_t">Double_t</a> b, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz)
{
<span class="comment">// Make in one step a volume pointing to a tube shape with given medium</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeEltu"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeEltu" title="TGeoVolume* TUCNGeoManager::MakeEltu(const char* name,const TGeoMedium* medium,Double_t a,Double_t b,Double_t dz)">MakeEltu</a>(name, medium, a, b, dz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="cibuSE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeHype" title="TGeoVolume* TUCNGeoManager::MakeHype(const char* name,const TGeoMedium* medium,Double_t rin,Double_t stin,Double_t rout,Double_t stout,Double_t dz)">MakeHype</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                        <a href="../ListOfTypes.html#Double_t">Double_t</a> rin, <a href="../ListOfTypes.html#Double_t">Double_t</a> stin, <a href="../ListOfTypes.html#Double_t">Double_t</a> rout, <a href="../ListOfTypes.html#Double_t">Double_t</a> stout, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz)
{
<span class="comment">// Make in one step a volume pointing to a tube shape with given medium</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeHype"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeHype" title="TGeoVolume* TUCNGeoManager::MakeHype(const char* name,const TGeoMedium* medium,Double_t rin,Double_t stin,Double_t rout,Double_t stout,Double_t dz)">MakeHype</a>(name, medium, rin, stin, rout, stout, dz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="UJ5rt"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeParaboloid" title="TGeoVolume* TUCNGeoManager::MakeParaboloid(const char* name,const TGeoMedium* medium,Double_t rlo,Double_t rhi,Double_t dz)">MakeParaboloid</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                        <a href="../ListOfTypes.html#Double_t">Double_t</a> rlo, <a href="../ListOfTypes.html#Double_t">Double_t</a> rhi, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz)
{
<span class="comment">// Make in one step a volume pointing to a tube shape with given medium</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeParaboloid"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeParaboloid" title="TGeoVolume* TUCNGeoManager::MakeParaboloid(const char* name,const TGeoMedium* medium,Double_t rlo,Double_t rhi,Double_t dz)">MakeParaboloid</a>(name, medium, rlo, rhi, dz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="mzCpvB"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeCtub" title="TGeoVolume* TUCNGeoManager::MakeCtub(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t dz,Double_t phi1,Double_t phi2,Double_t lx,Double_t ly,Double_t lz,Double_t tx,Double_t ty,Double_t tz)">MakeCtub</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi1, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi2,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> lx, <a href="../ListOfTypes.html#Double_t">Double_t</a> ly, <a href="../ListOfTypes.html#Double_t">Double_t</a> lz, <a href="../ListOfTypes.html#Double_t">Double_t</a> tx, <a href="../ListOfTypes.html#Double_t">Double_t</a> ty, <a href="../ListOfTypes.html#Double_t">Double_t</a> tz)
{
<span class="comment">// Make in one step a volume pointing to a tube segment shape with given medium</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeCtub"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeCtub" title="TGeoVolume* TUCNGeoManager::MakeCtub(const char* name,const TGeoMedium* medium,Double_t rmin,Double_t rmax,Double_t dz,Double_t phi1,Double_t phi2,Double_t lx,Double_t ly,Double_t lz,Double_t tx,Double_t ty,Double_t tz)">MakeCtub</a>(name, medium, rmin, rmax, dz, phi1, phi2, lx, ly, lz, tx, ty, tz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="DP_LNE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeCone" title="TGeoVolume* TUCNGeoManager::MakeCone(const char* name,const TGeoMedium* medium,Double_t dz,Double_t rmin1,Double_t rmax1,Double_t rmin2,Double_t rmax2)">MakeCone</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> dz, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin1, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax1,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin2, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax2)
{
<span class="comment">// Make in one step a volume pointing to a cone shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeCone"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeCone" title="TGeoVolume* TUCNGeoManager::MakeCone(const char* name,const TGeoMedium* medium,Double_t dz,Double_t rmin1,Double_t rmax1,Double_t rmin2,Double_t rmax2)">MakeCone</a>(name, medium, dz, rmin1, rmax1, rmin2, rmax2);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="LFIONE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeCons" title="TGeoVolume* TUCNGeoManager::MakeCons(const char* name,const TGeoMedium* medium,Double_t dz,Double_t rmin1,Double_t rmax1,Double_t rmin2,Double_t rmax2,Double_t phi1,Double_t phi2)">MakeCons</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> dz, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin1, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax1,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> rmin2, <a href="../ListOfTypes.html#Double_t">Double_t</a> rmax2,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> phi1, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi2)
{
<span class="comment">// Make in one step a volume pointing to a cone segment shape with given medium</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeCons"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeCons" title="TGeoVolume* TUCNGeoManager::MakeCons(const char* name,const TGeoMedium* medium,Double_t dz,Double_t rmin1,Double_t rmax1,Double_t rmin2,Double_t rmax2,Double_t phi1,Double_t phi2)">MakeCons</a>(name, medium, dz, rmin1, rmax1, rmin2, rmax2, phi1, phi2);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="dHI8DE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakePcon" title="TGeoVolume* TUCNGeoManager::MakePcon(const char* name,const TGeoMedium* medium,Double_t phi,Double_t dphi,Int_t nz)">MakePcon</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> phi, <a href="../ListOfTypes.html#Double_t">Double_t</a> dphi, <a href="../ListOfTypes.html#Int_t">Int_t</a> nz)
{
<span class="comment">// Make in one step a volume pointing to a polycone shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakePcon"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakePcon" title="TGeoVolume* TUCNGeoManager::MakePcon(const char* name,const TGeoMedium* medium,Double_t phi,Double_t dphi,Int_t nz)">MakePcon</a>(name, medium, phi, dphi, nz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="fHI8DE"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakePgon" title="TGeoVolume* TUCNGeoManager::MakePgon(const char* name,const TGeoMedium* medium,Double_t phi,Double_t dphi,Int_t nedges,Int_t nz)">MakePgon</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                     <a href="../ListOfTypes.html#Double_t">Double_t</a> phi, <a href="../ListOfTypes.html#Double_t">Double_t</a> dphi, <a href="../ListOfTypes.html#Int_t">Int_t</a> nedges, <a href="../ListOfTypes.html#Int_t">Int_t</a> nz)
{
<span class="comment">// Make in one step a volume pointing to a polygone shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakePgon"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakePgon" title="TGeoVolume* TUCNGeoManager::MakePgon(const char* name,const TGeoMedium* medium,Double_t phi,Double_t dphi,Int_t nedges,Int_t nz)">MakePgon</a>(name, medium, phi, dphi, nedges, nz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="pON1jB"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTrd1" title="TGeoVolume* TUCNGeoManager::MakeTrd1(const char* name,const TGeoMedium* medium,Double_t dx1,Double_t dx2,Double_t dy,Double_t dz)">MakeTrd1</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> dx1, <a href="../ListOfTypes.html#Double_t">Double_t</a> dx2, <a href="../ListOfTypes.html#Double_t">Double_t</a> dy, <a href="../ListOfTypes.html#Double_t">Double_t</a> dz)
{
<span class="comment">// Make in one step a volume pointing to a TGeoTrd1 shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeTrd1"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTrd1" title="TGeoVolume* TUCNGeoManager::MakeTrd1(const char* name,const TGeoMedium* medium,Double_t dx1,Double_t dx2,Double_t dy,Double_t dz)">MakeTrd1</a>(name, medium, dx1, dx2, dy, dz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="xEX1jB"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTrd2" title="TGeoVolume* TUCNGeoManager::MakeTrd2(const char* name,const TGeoMedium* medium,Double_t dx1,Double_t dx2,Double_t dy1,Double_t dy2,Double_t dz)">MakeTrd2</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> dx1, <a href="../ListOfTypes.html#Double_t">Double_t</a> dx2, <a href="../ListOfTypes.html#Double_t">Double_t</a> dy1, <a href="../ListOfTypes.html#Double_t">Double_t</a> dy2,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> dz)
{
<span class="comment">// Make in one step a volume pointing to a TGeoTrd2 shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeTrd2"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTrd2" title="TGeoVolume* TUCNGeoManager::MakeTrd2(const char* name,const TGeoMedium* medium,Double_t dx1,Double_t dx2,Double_t dy1,Double_t dy2,Double_t dz)">MakeTrd2</a>(name, medium, dx1, dx2, dy1, dy2, dz);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="pu5_jB"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTrap" title="TGeoVolume* TUCNGeoManager::MakeTrap(const char* name,const TGeoMedium* medium,Double_t dz,Double_t theta,Double_t phi,Double_t h1,Double_t bl1,Double_t tl1,Double_t alpha1,Double_t h2,Double_t bl2,Double_t tl2,Double_t alpha2)">MakeTrap</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> dz, <a href="../ListOfTypes.html#Double_t">Double_t</a> theta, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi, <a href="../ListOfTypes.html#Double_t">Double_t</a> h1,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> bl1, <a href="../ListOfTypes.html#Double_t">Double_t</a> tl1, <a href="../ListOfTypes.html#Double_t">Double_t</a> alpha1, <a href="../ListOfTypes.html#Double_t">Double_t</a> h2, <a href="../ListOfTypes.html#Double_t">Double_t</a> bl2,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> tl2, <a href="../ListOfTypes.html#Double_t">Double_t</a> alpha2)
{
<span class="comment">// Make in one step a volume pointing to a trapezoid shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeTrap"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTrap" title="TGeoVolume* TUCNGeoManager::MakeTrap(const char* name,const TGeoMedium* medium,Double_t dz,Double_t theta,Double_t phi,Double_t h1,Double_t bl1,Double_t tl1,Double_t alpha1,Double_t h2,Double_t bl2,Double_t tl2,Double_t alpha2)">MakeTrap</a>(name, medium, dz, theta, phi, h1, bl1, tl1, alpha1, h2, bl2, tl2, alpha2);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="SsWLtB"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeGtra" title="TGeoVolume* TUCNGeoManager::MakeGtra(const char* name,const TGeoMedium* medium,Double_t dz,Double_t theta,Double_t phi,Double_t twist,Double_t h1,Double_t bl1,Double_t tl1,Double_t alpha1,Double_t h2,Double_t bl2,Double_t tl2,Double_t alpha2)">MakeGtra</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> dz, <a href="../ListOfTypes.html#Double_t">Double_t</a> theta, <a href="../ListOfTypes.html#Double_t">Double_t</a> phi, <a href="../ListOfTypes.html#Double_t">Double_t</a> twist, <a href="../ListOfTypes.html#Double_t">Double_t</a> h1,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> bl1, <a href="../ListOfTypes.html#Double_t">Double_t</a> tl1, <a href="../ListOfTypes.html#Double_t">Double_t</a> alpha1, <a href="../ListOfTypes.html#Double_t">Double_t</a> h2, <a href="../ListOfTypes.html#Double_t">Double_t</a> bl2,
                                  <a href="../ListOfTypes.html#Double_t">Double_t</a> tl2, <a href="../ListOfTypes.html#Double_t">Double_t</a> alpha2)
{
<span class="comment">// Make in one step a volume pointing to a twisted trapezoid shape with given medium.</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeGtra"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeGtra" title="TGeoVolume* TUCNGeoManager::MakeGtra(const char* name,const TGeoMedium* medium,Double_t dz,Double_t theta,Double_t phi,Double_t twist,Double_t h1,Double_t bl1,Double_t tl1,Double_t alpha1,Double_t h2,Double_t bl2,Double_t tl2,Double_t alpha2)">MakeGtra</a>(name, medium, dz, theta, phi, twist, h1, bl1, tl1, alpha1, h2, bl2, tl2, alpha2);
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="iCHcS"></a>TGeoVolume *<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeXtru" title="TGeoVolume* TUCNGeoManager::MakeXtru(const char* name,const TGeoMedium* medium,Int_t nz)">MakeXtru</a>(<span class="keyword">const</span> <span class="keyword">char</span> *name, <span class="keyword">const</span> TGeoMedium *medium, <a href="../ListOfTypes.html#Int_t">Int_t</a> nz)
{
<span class="comment">// Make a TGeoXtru-shaped volume with nz planes</span>
	<a href="../#TObject:Error" title="void TObject::Error(const char* method,const char* msgfmt)">Error</a>(<span class="string">"MakeXtru"</span>,<span class="string">"This volume is not yet supported. Cannot build a UCN version. Do Not Use."</span>);
	<span class="keyword">return</span> TGeoBuilder::Instance(<span class="keyword">this</span>)-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeXtru" title="TGeoVolume* TUCNGeoManager::MakeXtru(const char* name,const TGeoMedium* medium,Int_t nz)">MakeXtru</a>(name, medium, nz);
}


<span class="comment">//_____________________________________________________________________________</span>
<a name="mbAfuC"></a>TGeoNode* <a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:FindNextBoundaryAndStepAlongParabola" title="TGeoNode* TUCNGeoManager::FindNextBoundaryAndStepAlongParabola(TVirtualGeoTrack* track,TUCNGravField* field,Double_t stepTime,Bool_t compsafe=kFALSE)">FindNextBoundaryAndStepAlongParabola</a>(TVirtualGeoTrack* track, <a href="../TUCNGravField.html">TUCNGravField</a>* field, <a href="../ListOfTypes.html#Double_t">Double_t</a> stepTime, <a href="../ListOfTypes.html#Bool_t">Bool_t</a> compsafe)
{
<span class="comment">// Compute distance to next boundary within STEPTIME. If no boundary is found,</span>
<span class="comment">// propagate current point along current direction with fStepTime=STEPTIME. Otherwise</span>
<span class="comment">// propagate with fStepTime=TNEXT (time to reach boundary) and locate/return the next</span>
<span class="comment">// node.	</span>
	<span class="keyword">return</span> <span class="keyword">this</span>-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:GetUCNNavigator" title="TUCNGeoNavigator* TUCNGeoManager::GetUCNNavigator()">GetUCNNavigator</a>()-><a href="../TUCNGeoNavigator.html#TUCNGeoNavigator:FindNextBoundaryAndStepAlongParabola" title="TGeoNode* TUCNGeoNavigator::FindNextBoundaryAndStepAlongParabola(TVirtualGeoTrack* track,TUCNGravField* field,Double_t stepTime,Bool_t compsafe=kFALSE)">FindNextBoundaryAndStepAlongParabola</a>(track, field, stepTime, compsafe);
} 

<span class="comment">//_____________________________________________________________________________</span>
<a name="XM6KUC"></a><a href="../ListOfTypes.html#Int_t">Int_t</a> <a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:AddUCNNavigator" title="Int_t TUCNGeoManager::AddUCNNavigator(TUCNGeoNavigator* navigator)">AddUCNNavigator</a>(<a href="../TUCNGeoNavigator.html">TUCNGeoNavigator</a> *navigator)
{
<span class="comment">// Add a navigator in the list of navigators in <a href="../#TGeoManager:TGeoManager" title="TGeoManager TGeoManager::TGeoManager(const TGeoManager&amp; ) or overloads">TGeoManager</a>. Make it the current navigator in both classes</span>
<span class="comment">// and store the index so that we have some way to retrieve it from the TObjArray in <a href="../#TGeoManager:TGeoManager" title="TGeoManager TGeoManager::TGeoManager(const TGeoManager&amp; ) or overloads">TGeoManager</a>. </span>

<span class="comment">// This method will only allow a UCNGeoNavigator to be added to the GeoManager ONCE! This is because of perhaps unfounded fears that once we add</span>
<span class="comment">// a navigator to the list of navigators in <a href="../#TGeoManager:TGeoManager" title="TGeoManager TGeoManager::TGeoManager(const TGeoManager&amp; ) or overloads">TGeoManager</a>, if we lose our pointer to that UCNGeoNavigator, then when we retrieve this object from the array</span>
<span class="comment">// we no longer have a way to know that that navigator in the list is of type <a href="../TUCNGeoNavigator.html">TUCNGeoNavigator</a> or of type TGeoNavigator, unless we store the index of</span>
<span class="comment">// every UCNGeoNavigator that we add to the list. My current experience of this class is that we only need one anyway, and rather than make it a singleton</span>
<span class="comment">// I will currently just throw a warning if we try to add another UCNNavigator. </span>
	<span class="keyword">if</span> (<a href="../TUCNGeoManager.html#TUCNGeoManager:fUCNNavigator" title="TUCNGeoNavigator* TUCNGeoManager::fUCNNavigator">fUCNNavigator</a> == NULL) { 
		<a href="../TUCNGeoManager.html#TUCNGeoManager:fNavigatorIndex" title="Int_t TUCNGeoManager::fNavigatorIndex">fNavigatorIndex</a> = <span class="keyword">this</span>-&gt;<a href="../#TGeoManager:AddNavigator" title="Int_t TGeoManager::AddNavigator(TGeoNavigator* navigator)">AddNavigator</a>(navigator);
		<a href="../TUCNGeoManager.html#TUCNGeoManager:fUCNNavigator" title="TUCNGeoNavigator* TUCNGeoManager::fUCNNavigator">fUCNNavigator</a> = navigator;
	  	<span class="keyword">this</span>-&gt;<a href="../#TGeoManager:SetCurrentNavigator" title="Bool_t TGeoManager::SetCurrentNavigator(Int_t index)">SetCurrentNavigator</a>(<a href="../TUCNGeoManager.html#TUCNGeoManager:fNavigatorIndex" title="Int_t TUCNGeoManager::fNavigatorIndex">fNavigatorIndex</a>);
	} <span class="keyword">else</span> {
		<a href="../#TObject:Warning" title="void TObject::Warning(const char* method,const char* msgfmt)">Warning</a>(<span class="string">"AddUCNNavigator"</span>, <span class="string">"UCNNavigator already exists. Another cannot be added to GeoManager"</span>);
	}
	<span class="keyword">return</span> <a href="../TUCNGeoManager.html#TUCNGeoManager:fNavigatorIndex" title="Int_t TUCNGeoManager::fNavigatorIndex">fNavigatorIndex</a>;
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="w_4ya"></a><a href="../TUCNGravField.html">TUCNGravField</a>*	<a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:AddGravField" title="TUCNGravField* TUCNGeoManager::AddGravField(Double_t nx,Double_t ny,Double_t nz)">AddGravField</a>(<a href="../ListOfTypes.html#Double_t">Double_t</a> nx, <a href="../ListOfTypes.html#Double_t">Double_t</a> ny, <a href="../ListOfTypes.html#Double_t">Double_t</a> nz)
{
<span class="comment">// Create an instance of the Gravitational Field and set its direction vector</span>
	<span class="keyword">if</span> (<a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a> == NULL) {
		<a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a> = <a href="../TUCNGravField.html">TUCNGravField</a>::<a href="../TUCNGravField.html#TUCNGravField:Instance" title="TUCNGravField* TUCNGravField::Instance(TUCNGeoManager* geom)">Instance</a>(<span class="keyword">this</span>);
	} <span class="keyword">else</span> {
		<a href="../#TObject:Warning" title="void TObject::Warning(const char* method,const char* msgfmt)">Warning</a>(<span class="string">"AddGravField"</span>, <span class="string">"Field has already been created. Returning original field."</span>);
		<span class="keyword">return</span> <a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a>;
	}
	<a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a>-><a href="../TUCNGravField.html#TUCNGravField:Direction" title="void TUCNGravField::Direction(Double_t nx,Double_t ny,Double_t nz)">Direction</a>(nx, ny, nz);
	<span class="keyword">return</span> <a href="../TUCNGeoManager.html#TUCNGeoManager:fGravField" title="TUCNGravField* TUCNGeoManager::fGravField">fGravField</a>;
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="BWGu1B"></a><a href="../TUCNParticleCloud.html">TUCNParticleCloud</a>* <a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:AddParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::AddParticleCloud()">AddParticleCloud</a>()
{
<span class="comment">// Create an instance of the Gravitational Field and set its direction vector</span>
	<span class="keyword">if</span> (<a href="../TUCNGeoManager.html#TUCNGeoManager:fParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::fParticleCloud">fParticleCloud</a> == NULL) {
		<a href="../TUCNGeoManager.html#TUCNGeoManager:fParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::fParticleCloud">fParticleCloud</a> = <span class="keyword">new</span> <a href="../TUCNParticleCloud.html">TUCNParticleCloud</a>(<span class="keyword">this</span>);
	}
	<span class="keyword">return</span> <a href="../TUCNGeoManager.html#TUCNGeoManager:fParticleCloud" title="TUCNParticleCloud* TUCNGeoManager::fParticleCloud">fParticleCloud</a>;
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="LlWlFC"></a><span class="keyword">void</span> <a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:MakeTracks" title="void TUCNGeoManager::MakeTracks(TUCNParticleCloud* cloud)">MakeTracks</a>(<a href="../TUCNParticleCloud.html">TUCNParticleCloud</a>* cloud)
{
<span class="comment">// Take a ParticleCloud and make a track for each particle and add it to the list of tracks</span>
	<a href="../ListOfTypes.html#Int_t">Int_t</a> particles = cloud-&gt;GetListOfParticles()-&gt;GetEntriesFast();
	<span class="keyword">for</span> (<a href="../ListOfTypes.html#Int_t">Int_t</a> id = 0; id &lt; particles; id++) {
		<span class="comment">// Make track and add to list</span>
		<a href="../TUCNParticle.html">TUCNParticle</a>* particle = cloud-&gt;GetParticle(id);
		TVirtualGeoTrack* track = <span class="keyword">this</span>-&gt;<a href="../#TGeoManager:MakeTrack" title="TVirtualGeoTrack* TGeoManager::MakeTrack(Int_t id,Int_t pdgcode,TObject* particle)">MakeTrack</a>(id, particle-&gt;GetPdgCode(), particle);
		<span class="keyword">this</span>-&gt;<a href="../#TGeoManager:AddTrack" title="Int_t TGeoManager::AddTrack(Int_t id,Int_t pdgcode,TObject* particle=0) or overloads">AddTrack</a>(track);
		<span class="keyword">this</span>-&gt;<a href="../#TGeoManager:SetCurrentTrack" title="void TGeoManager::SetCurrentTrack(Int_t i) or overloads">SetCurrentTrack</a>(track);
		track-&gt;AddPoint(particle-&gt;Vx(), particle-&gt;Vy(), particle-&gt;Vz(), particle-&gt;T());	
	}
}

<span class="comment">//_____________________________________________________________________________</span>
<a name="YSlAHE"></a><span class="keyword">void</span> <a href="../TUCNGeoManager.html">TUCNGeoManager</a>::<a href="../TUCNGeoManager.html#TUCNGeoManager:PropagateTracks" title="void TUCNGeoManager::PropagateTracks(Double_t runTime,Bool_t storeData=kFALSE,Bool_t storeTrack=kFALSE)">PropagateTracks</a>(<a href="../ListOfTypes.html#Double_t">Double_t</a> runTime, <a href="../ListOfTypes.html#Bool_t">Bool_t</a> storeData, <a href="../ListOfTypes.html#Bool_t">Bool_t</a> storeTrack)
{
<span class="comment">// Take list of tracks and propagate for time runTime</span>
	<span class="comment">// -- <a href="../#TObject:Write" title="Int_t TObject::Write(const char* name=0,Int_t option=0,Int_t bufsize=0) or overloads">Write</a> out initial distribution data</span>
	<span class="keyword">if</span> (storeData == <a href="../ListOfTypes.html#Bool_t">kTRUE</a>) {
		<a href="../ListOfTypes.html#ofstream">ofstream</a> initialout(<span class="string">"initialdata.txt"</span>);
		<a href="../ListOfTypes.html#ofstream">ofstream</a> finalout(<span class="string">"finaldata.txt"</span>);
		<span class="comment">// --------------------------------------------------------------------------------------</span>
		initialout &lt;&lt; <span class="string">"Number"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Neutron Time"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Neutron Energy"</span> &lt;&lt; <span class="string">"\t"</span>;
		initialout &lt;&lt; <span class="string">"X Position"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Y Position"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Z Position"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"PX"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"PY"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"PZ"</span> &lt;&lt; <span class="string">"\t"</span>;
		initialout &lt;&lt; <span class="string">"Detected"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Decayed"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Lost"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; endl;
		<span class="comment">// --------------------------------------------------------------------------------------</span>
		finalout &lt;&lt; <span class="string">"Number"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Neutron Time"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Neutron Energy"</span> &lt;&lt; <span class="string">"\t"</span>;
		finalout &lt;&lt; <span class="string">"X Position"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Y Position"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Z Position"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"PX"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"PY"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"PZ"</span> &lt;&lt; <span class="string">"\t"</span>;
		finalout &lt;&lt; <span class="string">"Detected"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Decayed"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; <span class="string">"Lost"</span> &lt;&lt; <span class="string">"\t"</span> &lt;&lt; endl;
	
		<a href="../ListOfTypes.html#Int_t">Int_t</a> tracks = <span class="keyword">this</span>-&gt;<a href="../#TGeoManager:GetNtracks" title="Int_t TGeoManager::GetNtracks()">GetNtracks</a>();
	
		<span class="keyword">for</span> (<a href="../ListOfTypes.html#Int_t">Int_t</a> id = 0; id &lt; tracks; id++) {
			<span class="comment">// Get each Track</span>
			TVirtualGeoTrack* track = <span class="keyword">this</span>-&gt;<a href="../#TGeoManager:GetTrack" title="TVirtualGeoTrack* TGeoManager::GetTrack(Int_t index)">GetTrack</a>(id);
			<a href="../TUCNParticle.html">TUCNParticle</a>* particle = <span class="keyword">static_cast</span>&lt;<a href="../TUCNParticle.html">TUCNParticle</a>*&gt;(track-&gt;GetParticle());
			<span class="comment">// <a href="../#TObject:Write" title="Int_t TObject::Write(const char* name=0,Int_t option=0,Int_t bufsize=0) or overloads">Write</a> out the initial particle data</span>
			initialout &lt;&lt; id &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;T() /Units::s &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Energy() /Units::neV &lt;&lt; <span class="string">"\t"</span>;
			initialout &lt;&lt; particle-&gt;Vx() /Units::m &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Vy() /Units::m &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Vz() /Units::m &lt;&lt; <span class="string">"\t"</span>;
			initialout &lt;&lt; particle-&gt;Px() /Units::eV &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Py() /Units::eV &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Pz() /Units::eV &lt;&lt; <span class="string">"\t"</span>;
			initialout &lt;&lt; particle-&gt;Detected() &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Decayed() &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Lost() &lt;&lt; <span class="string">"\t"</span> &lt;&lt; endl;
			<span class="comment">// Initialise track - Sets navigator's current point/direction/node to that of the particle</span>
			<span class="keyword">this</span>-&gt;<a href="../#TGeoManager:InitTrack" title="TGeoNode* TGeoManager::InitTrack(const Double_t* point,const Double_t* dir) or overloads">InitTrack</a>(particle-&gt;Vx(), particle-&gt;Vy(), particle-&gt;Vz(), \
										particle-&gt;Px()/particle-&gt;P(),	particle-&gt;Py()/particle-&gt;P(), particle-&gt;Pz()/particle-&gt;P());
			<span class="comment">// Propagate track</span>
			<span class="keyword">this</span>-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:GetUCNNavigator" title="TUCNGeoNavigator* TUCNGeoManager::GetUCNNavigator()">GetUCNNavigator</a>()-><a href="../TUCNGeoNavigator.html#TUCNGeoNavigator:PropagateTrack" title="Bool_t TUCNGeoNavigator::PropagateTrack(TVirtualGeoTrack* track,const Double_t runTime)">PropagateTrack</a>(track, runTime);
			<span class="comment">// <a href="../#TObject:Write" title="Int_t TObject::Write(const char* name=0,Int_t option=0,Int_t bufsize=0) or overloads">Write</a> out the final position</span>
			finalout &lt;&lt; id &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;T() /Units::s &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Energy() /Units::neV &lt;&lt; <span class="string">"\t"</span>;
			finalout &lt;&lt; particle-&gt;Vx() /Units::m &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Vy() /Units::m &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Vz() /Units::m &lt;&lt; <span class="string">"\t"</span>;
			finalout &lt;&lt; particle-&gt;Px() /Units::eV &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Py() /Units::eV &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Pz() /Units::eV &lt;&lt; <span class="string">"\t"</span>;
			finalout &lt;&lt; particle-&gt;Detected() &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Decayed() &lt;&lt; <span class="string">"\t"</span> &lt;&lt; particle-&gt;Lost() &lt;&lt; <span class="string">"\t"</span> &lt;&lt; endl;
			
			<span class="keyword">if</span> (storeTrack == <a href="../ListOfTypes.html#Bool_t">kFALSE</a>) {
				<span class="comment">// <a href="../#TObject:Delete" title="void TObject::Delete(Option_t* option=&quot;&quot;)">Delete</a> the track to save memory</span>
				track-&gt;ResetTrack();
			}
		}
		initialout.close();
		finalout.close();
	} <span class="keyword">else</span> {
		<a href="../ListOfTypes.html#Int_t">Int_t</a> tracks = <span class="keyword">this</span>-&gt;<a href="../#TGeoManager:GetNtracks" title="Int_t TGeoManager::GetNtracks()">GetNtracks</a>();
		<span class="keyword">for</span> (<a href="../ListOfTypes.html#Int_t">Int_t</a> id = 0; id &lt; tracks; id++) {
			<span class="comment">// Get each Track</span>
			TVirtualGeoTrack* track = <span class="keyword">this</span>-&gt;<a href="../#TGeoManager:GetTrack" title="TVirtualGeoTrack* TGeoManager::GetTrack(Int_t index)">GetTrack</a>(id);
			<a href="../TUCNParticle.html">TUCNParticle</a>* particle = <span class="keyword">static_cast</span>&lt;<a href="../TUCNParticle.html">TUCNParticle</a>*&gt;(track-&gt;GetParticle());
			<span class="comment">// Initialise track - Sets navigator's current point/direction/node to that of the particle</span>
			<span class="keyword">this</span>-&gt;<a href="../#TGeoManager:InitTrack" title="TGeoNode* TGeoManager::InitTrack(const Double_t* point,const Double_t* dir) or overloads">InitTrack</a>(particle-&gt;Vx(), particle-&gt;Vy(), particle-&gt;Vz(), \
									particle-&gt;Px()/particle-&gt;P(), particle-&gt;Py()/particle-&gt;P(), particle-&gt;Pz()/particle-&gt;P());
			<span class="comment">// Propagate track</span>
			<span class="keyword">this</span>-&gt;<a href="../TUCNGeoManager.html#TUCNGeoManager:GetUCNNavigator" title="TUCNGeoNavigator* TUCNGeoManager::GetUCNNavigator()">GetUCNNavigator</a>()-><a href="../TUCNGeoNavigator.html#TUCNGeoNavigator:PropagateTrack" title="Bool_t TUCNGeoNavigator::PropagateTrack(TVirtualGeoTrack* track,const Double_t runTime)">PropagateTrack</a>(track, runTime);
			<span class="keyword">if</span> (storeTrack == <a href="../ListOfTypes.html#Bool_t">kFALSE</a>) {
				<span class="comment">// <a href="../#TObject:Delete" title="void TObject::Delete(Option_t* option=&quot;&quot;)">Delete</a> the track to save memory</span>
				track-&gt;ResetTrack();
			}
		}
	}
</pre>

<br />
<!--SIGNATURE-->

<em>Last change: Thu Jun 18 00:10:42 2009</em><br />
<em>Last generated: 2009-06-18 00:10</em><br />

<hr />
<em>
This page has been automatically generated. If you have any comments or suggestions about the page layout send a mail to <a href="mailto:rootdev@root.cern.ch">ROOT support</a>, or contact <a href="mailto:rootdev@root.cern.ch">the developers</a> with any questions or problems regarding ROOT.
</em>
</body>
</html>
